<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<title>Instalação Ubuntu Estúdio</title>
<style>
  body {
    font-family: "Ubuntu", sans-serif;
    background: #2a2a2a;
    color: #f0f0f0;
    padding: 30px;
    max-width: 700px;
    margin: auto;
    user-select: none;
  }
  h2 {
    margin-bottom: 25px;
    font-weight: bold;
    text-align: center;
    font-size: 1.8rem;
    color: #f37329;
  }
  form {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px 20px;
    max-height: 400px;
    overflow-y: auto;
    padding: 10px;
    border-radius: 8px;
    background: #1e1e1e;
  }
  label {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1.1rem;
    background: transparent;
    transition: background 0.2s;
  }
  label:hover {
    background: #2a2a2a;
  }
  label input[type="checkbox"] {
    margin-right: 12px;
    width: 20px;
    height: 20px;
    accent-color: #f37329;
    cursor: pointer;
    flex-shrink: 0;
  }
  label img.icon {
    margin-right: 10px;
    width: 24px;
    height: 24px;
    filter: none;
  }
  button {
    margin: 25px auto 0;
    display: block;
    width: 60%;
    padding: 12px 0;
    font-size: 1.1rem;
    font-weight: 700;
    color: #fff;
    background: #f37329;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s;
    }
  button:hover {
    background: #e3621d;
  }
  button:active {
    background: #d55411;
  }
</style>
</head>
<body>
<h2>Pós-instalação Ubuntu (Estúdio)</h2>
<form id="script-form" aria-label="Seleção de scripts para pós-instalação"></form>
<button onclick="executarScripts()" aria-label="Executar scripts selecionados">Executar selecionados</button>

<script>
  function iconUrl(name) {
    // return `https://raw.githubusercontent.com/PapirusDevelopmentTeam/papirus-icon-theme/master/Papirus/48x48/apps/${name}.svg`;
    return `assets/icons/${name}.svg`;
  }

  const entries = [
    ["Dependências", "deps/postinst-deps.sh", "deepin-repair-tools", "Ferramentas para este script"],
    ["Ganchos do APT", "deps/apt-hooks.sh", "system-software-update", "Configurações para o APT"],
    ["UnSnap", "deps/unsnap-fresh-ubuntu.sh", "com.github.bartzaalberg.snaptastic", "Remover o Snap"],
    ["Liquorix", "core/liquorix.sh", "yast-hwinfo", "Kernel"],
    ["Drivers de vídeo", "core/video-drivers.sh", "GPU_Viewer", "Drivers de vídeo"],
    ["Ubuntu Studio", "core/ubuntustudio.sh", "distributor-logo-ubuntu-studio", "Configurações do sistema"],
    ["Cable", "core/cable.sh", "laditools", "Controle do PipeWire"],
    ["RTCQS", "core/rtcqs.sh", "utilities-log-viewer", "Verificador de configurações"],
    ["Fontes de programas", "sources/software-sources.sh", "system-software-install", "Fontes de programas"],
    ["XtraDeb", "sources/xtradeb.sh", "distributor-logo-debian", "Repositório de programas"],
    ["Flatpak", "sources/flatpak.sh", "io.github.flattool.Warehouse", "Flatpak"],
    ["Synaptic", "sources/synaptic.sh", "synaptic", "Gerenciador de pacotes Debian"],
    ["MuseScore", "audio/musescore-studio.sh", "musescore", "Notação musical"],
    ["Reaper", "audio/reaper.sh", "cockos-reaper", "DAW (Estação de trabalho de áudio)"],
    ["Tenacity", "audio/tenacity.sh", "tenacity", "Editor de áudio"],
    ["MOD Desktop", "audio/mod-desktop.sh", "guitarix", "Pedalboard"],
    ["ArtV", "audio/artv.sh", "preferences-plugin", "Plugins de áudio"],
    ["HY-Plugins", "audio/hy-plugins.sh", "preferences-plugin", "Plugins de áudio"],
    ["Auburn Sounds", "audio/auburnsounds.sh", "preferences-plugin", "Plugins de áudio"],
    ["ChowDSP", "audio/chowdsp.sh", "preferences-plugin", "Plugins de áudio"],
    ["Aether", "audio/aether.sh", "preferences-plugin", "Plugin de áudio"],
    ["LSP plugins", "audio/lsp-plugins.sh", "preferences-plugin", "Plugins de áudio"],
    ["Dragonfly", "audio/dragonfly.sh", "preferences-plugin", "Plugins de áudio"],
    ["x42 Plugins", "audio/x42-plugins.sh", "preferences-plugin", "Plugins de áudio"],
    ["NeuralRack", "audio/neuralrack.sh", "preferences-plugin", "Plugin de áudio"],
    ["Audio Assault", "audio/audio-assault.sh", "preferences-plugin", "Plugins de áudio"],
    ["Sfizz", "audio/sfizz.sh", "preferences-plugin", "Tocador de amostras"],
    ["Consistent Interruption", "audio/consint.sh", "preferences-plugin", "Plugins de áudio"],
    ["Blue Wings Music", "audio/bluewingsmusic.sh", "preferences-plugin", "Plugins de áudio"],
    ["TheMasker", "audio/themasker.sh", "preferences-plugin", "Plugin de áudio"],
    ["Magnetophon", "audio/magnetophon.sh", "preferences-plugin", "Plugins de áudio"],
    ["ToneLib", "audio/tonelib.sh", "preferences-plugin", "Plugins de áudio"],
    ["ZL Audio", "audio/zl-audio.sh", "preferences-plugin", "Plugins de áudio"],
    ["VZtec", "audio/vztec.sh", "preferences-plugin", "Plugins de áudio"],
    ["MX Tune", "audio/mx-tune.sh", "preferences-plugin", "Plugin de áudio"],
    ["Surge XT", "audio/surge-xt.sh", "preferences-plugin", "Plugins de áudio/Sintetizador"],
    ["Dexed", "audio/dexed.sh", "preferences-plugin", "Sintetizador"],
    ["Helm", "audio/helm.sh", "helm", "Sintetizador"],
    ["Q4WINE", "audio/q4wine.sh", "q4wine", "Utilitário do WINE"],
    ["WINE TkG", "audio/wine-tkg.sh", "wine", "WINE + patch FSync"],
    ["yabridge", "audio/yabridge.sh", "airwave-manager", "Ponte WINE-VST"],
    ["Easy Effects", "audio/easyeffects.sh", "pulseeffects", "Efeitos para o PipeWire"],
    ["OBS Studio", "video/obs-studio.sh", "obs", "Transmissão/gravação"],
    ["Iriun", "video/iriun.sh", "webcamoid", "Webcam móvel"],
    ["DaVinci Resolve", "video/davinci-resolve.sh", "resolve", "Editor de vídeo"],
    ["Shutter Encoder", "video/shutter-encoder.sh", "shutter-encoder", "Conversor de mídia"],
    ["Blender", "video/blender.sh", "blender", "Editor 3D"],
    ["Natron", "video/natron.sh", "natron", "Composição"],
    ["Friction", "video/friction.sh", "friction", "Composição"],
    ["Flowblade", "video/flowblade.sh", "flowblade", "Editor de vídeo"],
    ["Kdenlive", "video/kdenlive.sh", "kdenlive", "Editor de vídeo"],
    ["Glaxnimate", "video/glaxnimate.sh", "ktimer", "Editor de animação"],
    ["GIMP", "image/gimp.sh", "gimp", "Editor de imagem"],
    ["Inkscape", "image/inkscape.sh", "inkscape", "Editor vetorial"],
    ["GColor 3", "image/gcolor3.sh", "gcolor3", "Seletor de cores"]
  ];

  const form = document.getElementById('script-form');

  entries.forEach(([labelText, scriptPath, iconName, desc]) => {
    const label = document.createElement('label');
    label.title = desc;

    const checkbox = document.createElement('input');
    checkbox.type = 'checkbox';
    checkbox.name = 'scripts';
    checkbox.value = scriptPath;

    const img = document.createElement('img');
    img.className = 'icon';
    img.src = iconUrl(iconName);
    img.alt = '';

    label.appendChild(checkbox);
    label.appendChild(img);
    label.append(` ${labelText}`);

    form.appendChild(label);
  });

  function executarScripts() {
    const selecionados = [...document.querySelectorAll('input[name=scripts]:checked')].map(el => el.value);
    if (selecionados.length === 0) return alert('Nenhum script selecionado.');

    const { ipcRenderer } = require('electron');
    ipcRenderer.invoke('executar-scripts', selecionados);
  }
</script>
</body>
</html>